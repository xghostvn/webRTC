{"code":"!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=6)}([function(e,t,n){var i={iceServers:[{url:\"stun:stun.l.google.com:19302\"}]},r=1,o=n(3),s=n(1).RTCPeerConnection,a={noop:function(){},CLOUD_HOST:\"0.peerjs.com\",CLOUD_PORT:9e3,chunkedBrowsers:{Chrome:1},chunkedMTU:16300,logLevel:0,setLogLevel:function(e){var t=parseInt(e,10);isNaN(parseInt(e,10))?a.logLevel=e?3:0:a.logLevel=t,a.log=a.warn=a.error=a.noop,a.logLevel>0&&(a.error=a._printWith(\"ERROR\")),a.logLevel>1&&(a.warn=a._printWith(\"WARNING\")),a.logLevel>2&&(a.log=a._print)},setLogFunction:function(e){e.constructor!==Function?a.warn(\"The log function you passed in is not a function. Defaulting to regular logs.\"):a._print=e},_printWith:function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e),a._print.apply(a,t)}},_print:function(){var e=!1,t=Array.prototype.slice.call(arguments);t.unshift(\"PeerJS: \");for(var n=0,i=t.length;n<i;n++)t[n]instanceof Error&&(t[n]=\"(\"+t[n].name+\") \"+t[n].message,e=!0);e?console.error.apply(console,t):console.log.apply(console,t)},defaultConfig:i,browser:window.mozRTCPeerConnection?\"Firefox\":window.webkitRTCPeerConnection?\"Chrome\":window.RTCPeerConnection?\"Supported\":\"Unsupported\",supports:function(){if(void 0===s)return{};var e,t,n=!0,r=!0,o=!1,a=!1,c=!!window.webkitRTCPeerConnection;try{e=new s(i,{optional:[{RtpDataChannels:!0}]})}catch(e){n=!1,r=!1}if(n)try{t=e.createDataChannel(\"_PEERJSTEST\")}catch(e){n=!1}if(n){try{t.binaryType=\"blob\",o=!0}catch(e){}var u=new s(i,{});try{a=u.createDataChannel(\"_PEERJSRELIABLETEST\",{}).reliable}catch(e){}u.close()}return r&&(r=!!e.addStream),e&&e.close(),{audioVideo:r,data:n,binaryBlob:o,binary:a,reliable:a,sctp:a,onnegotiationneeded:c}}(),validateId:function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(e)},validateKey:function(e){return!e||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.exec(e)},debug:!1,inherits:function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},pack:o.pack,unpack:o.unpack,log:function(){if(a.debug){var e=!1,t=Array.prototype.slice.call(arguments);t.unshift(\"PeerJS: \");for(var n=0,i=t.length;n<i;n++)t[n]instanceof Error&&(t[n]=\"(\"+t[n].name+\") \"+t[n].message,e=!0);e?console.error.apply(console,t):console.log.apply(console,t)}},setZeroTimeout:function(e){var t=[],n=\"zero-timeout-message\";function i(i){i.source==e&&i.data==n&&(i.stopPropagation&&i.stopPropagation(),t.length&&t.shift()())}return e.addEventListener?e.addEventListener(\"message\",i,!0):e.attachEvent&&e.attachEvent(\"onmessage\",i),function(i){t.push(i),e.postMessage(n,\"*\")}}(window),chunk:function(e){for(var t=[],n=e.size,i=index=0,o=Math.ceil(n/a.chunkedMTU);i<n;){var s=Math.min(n,i+a.chunkedMTU),c=e.slice(i,s),u={__peerData:r,n:index,data:c,total:o};t.push(u),i=s,index+=1}return r+=1,t},blobToArrayBuffer:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsArrayBuffer(e)},blobToBinaryString:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsBinaryString(e)},binaryStringToArrayBuffer:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer},randomToken:function(){return Math.random().toString(36).substr(2)},isSecure:function(){return\"https:\"===location.protocol}};e.exports=a},function(e,t){e.exports.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription,e.exports.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,e.exports.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate},function(e,t,n){\"use strict\";function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(){}r.prototype._events=void 0,r.prototype.listeners=function(e){if(!this._events||!this._events[e])return[];if(this._events[e].fn)return[this._events[e].fn];for(var t=0,n=this._events[e].length,i=new Array(n);t<n;t++)i[t]=this._events[e][t].fn;return i},r.prototype.emit=function(e,t,n,i,r,o){if(!this._events||!this._events[e])return!1;var s,a,c=this._events[e],u=arguments.length;if(\"function\"==typeof c.fn){switch(c.once&&this.removeListener(e,c.fn,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,r),!0;case 6:return c.fn.call(c.context,t,n,i,r,o),!0}for(a=1,s=new Array(u-1);a<u;a++)s[a-1]=arguments[a];c.fn.apply(c.context,s)}else{var p,h=c.length;for(a=0;a<h;a++)switch(c[a].once&&this.removeListener(e,c[a].fn,!0),u){case 1:c[a].fn.call(c[a].context);break;case 2:c[a].fn.call(c[a].context,t);break;case 3:c[a].fn.call(c[a].context,t,n);break;default:if(!s)for(p=1,s=new Array(u-1);p<u;p++)s[p-1]=arguments[p];c[a].fn.apply(c[a].context,s)}}return!0},r.prototype.on=function(e,t,n){var r=new i(t,n||this);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},r.prototype.once=function(e,t,n){var r=new i(t,n||this,!0);return this._events||(this._events={}),this._events[e]?this._events[e].fn?this._events[e]=[this._events[e],r]:this._events[e].push(r):this._events[e]=r,this},r.prototype.removeListener=function(e,t,n){if(!this._events||!this._events[e])return this;var i=this._events[e],r=[];if(t&&(i.fn&&(i.fn!==t||n&&!i.once)&&r.push(i),!i.fn))for(var o=0,s=i.length;o<s;o++)(i[o].fn!==t||n&&!i[o].once)&&r.push(i[o]);return r.length?this._events[e]=1===r.length?r[0]:r:delete this._events[e],this},r.prototype.removeAllListeners=function(e){return this._events?(e?delete this._events[e]:this._events={},this):this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.EventEmitter=r,r.EventEmitter2=r,r.EventEmitter3=r,e.exports=r},function(e,t,n){var i=n(4).BufferBuilder,r=n(4).binaryFeatures,o={unpack:function(e){return new s(e).unpack()},pack:function(e){var t=new a;return t.pack(e),t.getBuffer()}};function s(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}function a(){this.bufferBuilder=new i}function c(e){var t=e.charCodeAt(0);return t<=2047?\"00\":t<=65535?\"000\":t<=2097151?\"0000\":t<=67108863?\"00000\":\"000000\"}e.exports=o,s.prototype.unpack=function(){var e,t=this.unpack_uint8();if(t<128)return t;if((224^t)<32)return(224^t)-32;if((e=160^t)<=15)return this.unpack_raw(e);if((e=176^t)<=15)return this.unpack_string(e);if((e=144^t)<=15)return this.unpack_array(e);if((e=128^t)<=15)return this.unpack_map(e);switch(t){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:case 213:case 214:case 215:return;case 216:return e=this.unpack_uint16(),this.unpack_string(e);case 217:return e=this.unpack_uint32(),this.unpack_string(e);case 218:return e=this.unpack_uint16(),this.unpack_raw(e);case 219:return e=this.unpack_uint32(),this.unpack_raw(e);case 220:return e=this.unpack_uint16(),this.unpack_array(e);case 221:return e=this.unpack_uint32(),this.unpack_array(e);case 222:return e=this.unpack_uint16(),this.unpack_map(e);case 223:return e=this.unpack_uint32(),this.unpack_map(e)}},s.prototype.unpack_uint8=function(){var e=255&this.dataView[this.index];return this.index++,e},s.prototype.unpack_uint16=function(){var e=this.read(2),t=256*(255&e[0])+(255&e[1]);return this.index+=2,t},s.prototype.unpack_uint32=function(){var e=this.read(4),t=256*(256*(256*e[0]+e[1])+e[2])+e[3];return this.index+=4,t},s.prototype.unpack_uint64=function(){var e=this.read(8),t=256*(256*(256*(256*(256*(256*(256*e[0]+e[1])+e[2])+e[3])+e[4])+e[5])+e[6])+e[7];return this.index+=8,t},s.prototype.unpack_int8=function(){var e=this.unpack_uint8();return e<128?e:e-256},s.prototype.unpack_int16=function(){var e=this.unpack_uint16();return e<32768?e:e-65536},s.prototype.unpack_int32=function(){var e=this.unpack_uint32();return e<Math.pow(2,31)?e:e-Math.pow(2,32)},s.prototype.unpack_int64=function(){var e=this.unpack_uint64();return e<Math.pow(2,63)?e:e-Math.pow(2,64)},s.prototype.unpack_raw=function(e){if(this.length<this.index+e)throw new Error(\"BinaryPackFailure: index is out of range \"+this.index+\" \"+e+\" \"+this.length);var t=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,t},s.prototype.unpack_string=function(e){for(var t,n,i=this.read(e),r=0,o=\"\";r<e;)(t=i[r])<128?(o+=String.fromCharCode(t),r++):(192^t)<32?(n=(192^t)<<6|63&i[r+1],o+=String.fromCharCode(n),r+=2):(n=(15&t)<<12|(63&i[r+1])<<6|63&i[r+2],o+=String.fromCharCode(n),r+=3);return this.index+=e,o},s.prototype.unpack_array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this.unpack();return t},s.prototype.unpack_map=function(e){for(var t={},n=0;n<e;n++){var i=this.unpack(),r=this.unpack();t[i]=r}return t},s.prototype.unpack_float=function(){var e=this.unpack_uint32(),t=(e>>23&255)-127;return(0==e>>31?1:-1)*(8388607&e|8388608)*Math.pow(2,t-23)},s.prototype.unpack_double=function(){var e=this.unpack_uint32(),t=this.unpack_uint32(),n=e>>31,i=(e>>20&2047)-1023,r=(1048575&e|1048576)*Math.pow(2,i-20)+t*Math.pow(2,i-52);return(0==n?1:-1)*r},s.prototype.read=function(e){var t=this.index;if(t+e<=this.length)return this.dataView.subarray(t,t+e);throw new Error(\"BinaryPackFailure: read index out of range\")},a.prototype.getBuffer=function(){return this.bufferBuilder.getBuffer()},a.prototype.pack=function(e){var t=typeof e;if(\"string\"==t)this.pack_string(e);else if(\"number\"==t)Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(\"boolean\"==t)!0===e?this.bufferBuilder.append(195):!1===e&&this.bufferBuilder.append(194);else if(\"undefined\"==t)this.bufferBuilder.append(192);else{if(\"object\"!=t)throw new Error('Type \"'+t+'\" not yet supported');if(null===e)this.bufferBuilder.append(192);else{var n=e.constructor;if(n==Array)this.pack_array(e);else if(n==Blob||n==File)this.pack_bin(e);else if(n==ArrayBuffer)r.useArrayBufferView?this.pack_bin(new Uint8Array(e)):this.pack_bin(e);else if(\"BYTES_PER_ELEMENT\"in e)r.useArrayBufferView?this.pack_bin(new Uint8Array(e.buffer)):this.pack_bin(e.buffer);else if(n==Object)this.pack_object(e);else if(n==Date)this.pack_string(e.toString());else{if(\"function\"!=typeof e.toBinaryPack)throw new Error('Type \"'+n.toString()+'\" not yet supported');this.bufferBuilder.append(e.toBinaryPack())}}}this.bufferBuilder.flush()},a.prototype.pack_bin=function(e){var t=e.length||e.byteLength||e.size;if(t<=15)this.pack_uint8(160+t);else if(t<=65535)this.bufferBuilder.append(218),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error(\"Invalid length\");this.bufferBuilder.append(219),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_string=function(e){var t=function(e){return e.length>600?new Blob([e]).size:e.replace(/[^\\u0000-\\u007F]/g,c).length}(e);if(t<=15)this.pack_uint8(176+t);else if(t<=65535)this.bufferBuilder.append(216),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error(\"Invalid length\");this.bufferBuilder.append(217),this.pack_uint32(t)}this.bufferBuilder.append(e)},a.prototype.pack_array=function(e){var t=e.length;if(t<=15)this.pack_uint8(144+t);else if(t<=65535)this.bufferBuilder.append(220),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error(\"Invalid length\");this.bufferBuilder.append(221),this.pack_uint32(t)}for(var n=0;n<t;n++)this.pack(e[n])},a.prototype.pack_integer=function(e){if(-32<=e&&e<=127)this.bufferBuilder.append(255&e);else if(0<=e&&e<=255)this.bufferBuilder.append(204),this.pack_uint8(e);else if(-128<=e&&e<=127)this.bufferBuilder.append(208),this.pack_int8(e);else if(0<=e&&e<=65535)this.bufferBuilder.append(205),this.pack_uint16(e);else if(-32768<=e&&e<=32767)this.bufferBuilder.append(209),this.pack_int16(e);else if(0<=e&&e<=4294967295)this.bufferBuilder.append(206),this.pack_uint32(e);else if(-2147483648<=e&&e<=2147483647)this.bufferBuilder.append(210),this.pack_int32(e);else if(-0x8000000000000000<=e&&e<=0x8000000000000000)this.bufferBuilder.append(211),this.pack_int64(e);else{if(!(0<=e&&e<=0x10000000000000000))throw new Error(\"Invalid integer\");this.bufferBuilder.append(207),this.pack_uint64(e)}},a.prototype.pack_double=function(e){var t=0;e<0&&(t=1,e=-e);var n=Math.floor(Math.log(e)/Math.LN2),i=e/Math.pow(2,n)-1,r=Math.floor(i*Math.pow(2,52)),o=Math.pow(2,32),s=t<<31|n+1023<<20|r/o&1048575,a=r%o;this.bufferBuilder.append(203),this.pack_int32(s),this.pack_int32(a)},a.prototype.pack_object=function(e){var t=Object.keys(e).length;if(t<=15)this.pack_uint8(128+t);else if(t<=65535)this.bufferBuilder.append(222),this.pack_uint16(t);else{if(!(t<=4294967295))throw new Error(\"Invalid length\");this.bufferBuilder.append(223),this.pack_uint32(t)}for(var n in e)e.hasOwnProperty(n)&&(this.pack(n),this.pack(e[n]))},a.prototype.pack_uint8=function(e){this.bufferBuilder.append(e)},a.prototype.pack_uint16=function(e){this.bufferBuilder.append(e>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_uint32=function(e){var t=4294967295&e;this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t)},a.prototype.pack_uint64=function(e){var t=e/Math.pow(2,32),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)},a.prototype.pack_int8=function(e){this.bufferBuilder.append(255&e)},a.prototype.pack_int16=function(e){this.bufferBuilder.append((65280&e)>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int32=function(e){this.bufferBuilder.append(e>>>24&255),this.bufferBuilder.append((16711680&e)>>>16),this.bufferBuilder.append((65280&e)>>>8),this.bufferBuilder.append(255&e)},a.prototype.pack_int64=function(e){var t=Math.floor(e/Math.pow(2,32)),n=e%Math.pow(2,32);this.bufferBuilder.append((4278190080&t)>>>24),this.bufferBuilder.append((16711680&t)>>>16),this.bufferBuilder.append((65280&t)>>>8),this.bufferBuilder.append(255&t),this.bufferBuilder.append((4278190080&n)>>>24),this.bufferBuilder.append((16711680&n)>>>16),this.bufferBuilder.append((65280&n)>>>8),this.bufferBuilder.append(255&n)}},function(e,t){var n={};n.useBlobBuilder=function(){try{return new Blob([]),!1}catch(e){return!0}}(),n.useArrayBufferView=!n.useBlobBuilder&&function(){try{return 0===new Blob([new Uint8Array([])]).size}catch(e){return!0}}(),e.exports.binaryFeatures=n;var i=e.exports.BlobBuilder;function r(){this._pieces=[],this._parts=[]}\"undefined\"!=typeof window&&(i=e.exports.BlobBuilder=window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder||window.BlobBuilder),r.prototype.append=function(e){\"number\"==typeof e?this._pieces.push(e):(this.flush(),this._parts.push(e))},r.prototype.flush=function(){if(this._pieces.length>0){var e=new Uint8Array(this._pieces);n.useArrayBufferView||(e=e.buffer),this._parts.push(e),this._pieces=[]}},r.prototype.getBuffer=function(){if(this.flush(),n.useBlobBuilder){for(var e=new i,t=0,r=this._parts.length;t<r;t++)e.append(this._parts[t]);return e.getBlob()}return new Blob(this._parts)},e.exports.BufferBuilder=r},function(e,t,n){var i=n(0),r=n(1).RTCPeerConnection,o=n(1).RTCSessionDescription,s=n(1).RTCIceCandidate,a={pcs:{data:{},media:{}},queue:[],_idPrefix:\"pc_\",startConnection:function(e,t){var n=a._getPeerConnection(e,t);if(e.pc=e.peerConnection=n,\"media\"===e.type&&t._stream&&n.addStream(t._stream),t.originator){if(\"data\"===e.type){var r={};i.supports.sctp||(r={reliable:t.reliable});var o=n.createDataChannel(e.label,r);e.initialize(o)}a._makeOffer(e)}else a.handleSDP(\"OFFER\",e,t.sdp)},_getPeerConnection:function(e,t){a.pcs[e.type]||i.error(e.type+\" is not a valid connection type. Maybe you overrode the `type` property somewhere.\"),a.pcs[e.type][e.peer]||(a.pcs[e.type][e.peer]={});var n;a.pcs[e.type][e.peer];return t.pc&&(n=a.pcs[e.type][e.peer][t.pc]),n&&\"stable\"===n.signalingState||(n=a._startPeerConnection(e)),n},_startPeerConnection:function(e){i.log(\"Creating RTCPeerConnection.\");var t=a._idPrefix+i.randomToken(),n={};\"data\"!==e.type||i.supports.sctp?\"media\"===e.type&&(n={optional:[{DtlsSrtpKeyAgreement:!0}]}):n={optional:[{RtpDataChannels:!0}]};var o=new r(e.provider.options.config,n);return a.pcs[e.type][e.peer][t]=o,a._setupListeners(e,o,t),o},_setupListeners:function(e,t,n){var r=e.peer,o=e.id,s=e.provider;i.log(\"Listening for ICE candidates.\"),t.onicecandidate=function(t){t.candidate&&(i.log(\"Received ICE candidates for:\",e.peer),s.socket.send({type:\"CANDIDATE\",payload:{candidate:t.candidate,type:e.type,connectionId:e.id},dst:r}))},t.oniceconnectionstatechange=function(){switch(t.iceConnectionState){case\"failed\":i.log(\"iceConnectionState is disconnected, closing connections to \"+r),e.emit(\"error\",new Error(\"Negotiation of connection to \"+r+\" failed.\")),e.close();break;case\"disconnected\":i.log(\"iceConnectionState is disconnected, closing connections to \"+r),e.close();break;case\"completed\":t.onicecandidate=i.noop}},t.onicechange=t.oniceconnectionstatechange,i.log(\"Listening for data channel\"),t.ondatachannel=function(e){i.log(\"Received data channel\");var t=e.channel;s.getConnection(r,o).initialize(t)},i.log(\"Listening for remote stream\"),t.onaddstream=function(e){i.log(\"Received remote stream\");var t=e.stream,n=s.getConnection(r,o);\"media\"===n.type&&n.addStream(t)}},cleanup:function(e){i.log(\"Cleaning up PeerConnection to \"+e.peer);var t=e.pc;t&&(t.readyState&&\"closed\"!==t.readyState||\"closed\"!==t.signalingState)&&(t.close(),e.pc=null)},_makeOffer:function(e){var t=e.pc;t.createOffer(function(n){i.log(\"Created offer.\"),!i.supports.sctp&&\"data\"===e.type&&e.reliable&&(n.sdp=Reliable.higherBandwidthSDP(n.sdp)),t.setLocalDescription(n,function(){i.log(\"Set localDescription: offer\",\"for:\",e.peer),e.provider.socket.send({type:\"OFFER\",payload:{sdp:n,type:e.type,label:e.label,connectionId:e.id,reliable:e.reliable,serialization:e.serialization,metadata:e.metadata,browser:i.browser},dst:e.peer})},function(t){\"OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer\"!=t&&(e.provider.emitError(\"webrtc\",t),i.log(\"Failed to setLocalDescription, \",t))})},function(t){e.provider.emitError(\"webrtc\",t),i.log(\"Failed to createOffer, \",t)},e.options.constraints)},_makeAnswer:function(e){var t=e.pc;t.createAnswer(function(n){i.log(\"Created answer.\"),!i.supports.sctp&&\"data\"===e.type&&e.reliable&&(n.sdp=Reliable.higherBandwidthSDP(n.sdp)),t.setLocalDescription(n,function(){i.log(\"Set localDescription: answer\",\"for:\",e.peer),e.provider.socket.send({type:\"ANSWER\",payload:{sdp:n,type:e.type,connectionId:e.id,browser:i.browser},dst:e.peer})},function(t){e.provider.emitError(\"webrtc\",t),i.log(\"Failed to setLocalDescription, \",t)})},function(t){e.provider.emitError(\"webrtc\",t),i.log(\"Failed to create answer, \",t)})},handleSDP:function(e,t,n){n=new o(n);var r=t.pc;i.log(\"Setting remote description\",n),r.setRemoteDescription(n,function(){i.log(\"Set remoteDescription:\",e,\"for:\",t.peer),\"OFFER\"===e&&a._makeAnswer(t)},function(e){t.provider.emitError(\"webrtc\",e),i.log(\"Failed to setRemoteDescription, \",e)})},handleCandidate:function(e,t){var n=t.candidate,r=t.sdpMLineIndex;e.pc.addIceCandidate(new s({sdpMLineIndex:r,candidate:n})),i.log(\"Added ICE candidate for:\",e.peer)}};e.exports=a},function(e,t,n){var i=n(7),r=(io.connect(\"http://localhost:3000\"),n(8)),o=n(9),s=n(16);new o(function(){const e=s(10);return $(\"#mypeerid\").append(e),console.log(e),e}());i.open(function(e){r(e,\"localStream\")})},function(e,t){e.exports={open:e=>{navigator.mediaDevices.getUserMedia({audio:!1,video:{width:1280,height:720}}).then(t=>{e(t)}).catch(e=>{console.log(e)})}}},function(e,t){e.exports=((e,t)=>{var n=document.getElementById(t);n.srcObject=e,n.onloadedmetadata=function(e){n.play()}})},function(e,t,n){var i=n(0),r=n(2),o=n(10),s=n(11),a=n(12);function c(e,t){if(!(this instanceof c))return new c(e,t);r.call(this),e&&e.constructor==Object?(t=e,e=void 0):e&&(e=e.toString()),(t=i.extend({debug:0,host:i.CLOUD_HOST,port:i.CLOUD_PORT,path:\"/\",token:i.randomToken(),config:i.defaultConfig},t)).key=\"peerjs\",this.options=t,\"/\"===t.host&&(t.host=window.location.hostname),\"/\"!==t.path[0]&&(t.path=\"/\"+t.path),\"/\"!==t.path[t.path.length-1]&&(t.path+=\"/\"),void 0===t.secure&&t.host!==i.CLOUD_HOST&&(t.secure=i.isSecure()),t.logFunction&&i.setLogFunction(t.logFunction),i.setLogLevel(t.debug),i.supports.audioVideo||i.supports.data?i.validateId(e)?(this.destroyed=!1,this.disconnected=!1,this.open=!1,this.connections={},this._lostMessages={},this._initializeServerConnection(),e?this._initialize(e):this._retrieveId()):this._delayedAbort(\"invalid-id\",'ID \"'+e+'\" is invalid'):this._delayedAbort(\"browser-incompatible\",\"The current browser does not support WebRTC\")}i.inherits(c,r),c.prototype._initializeServerConnection=function(){var e=this;this.socket=new o(this.options.secure,this.options.host,this.options.port,this.options.path,this.options.key,this.options.wsport),this.socket.on(\"message\",function(t){e._handleMessage(t)}),this.socket.on(\"error\",function(t){e._abort(\"socket-error\",t)}),this.socket.on(\"disconnected\",function(){e.disconnected||(e.emitError(\"network\",\"Lost connection to server.\"),e.disconnect())}),this.socket.on(\"close\",function(){e.disconnected||e._abort(\"socket-closed\",\"Underlying socket is already closed.\")})},c.prototype._retrieveId=function(e){var t=this,n=new XMLHttpRequest,r=(this.options.secure?\"https://\":\"http://\")+this.options.host+\":\"+this.options.port+this.options.path+this.options.key+\"/id\";r+=\"?ts=\"+(new Date).getTime()+Math.random(),n.open(\"get\",r,!0),n.onerror=function(e){i.error(\"Error retrieving ID\",e);var n=\"\";\"/\"===t.options.path&&t.options.host!==i.CLOUD_HOST&&(n=\" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer.\"),t._abort(\"server-error\",\"Could not get an ID from the server.\"+n)},n.onreadystatechange=function(){4===n.readyState&&(200===n.status?t._initialize(n.responseText):n.onerror())},n.send(null)},c.prototype._initialize=function(e){this.id=e,this.socket.start(this.id,this.options.token)},c.prototype._handleMessage=function(e){var t,n=e.type,r=e.payload,o=e.src;switch(n){case\"OPEN\":this.emit(\"open\",this.id),this.open=!0;break;case\"ERROR\":this._abort(\"server-error\",r.msg);break;case\"ID-TAKEN\":this._abort(\"unavailable-id\",\"ID `\"+this.id+\"` is taken\");break;case\"INVALID-KEY\":this._abort(\"invalid-key\",'API KEY \"'+this.options.key+'\" is invalid');break;case\"LEAVE\":i.log(\"Received leave message from\",o),this._cleanupPeer(o);break;case\"EXPIRE\":this.emitError(\"peer-unavailable\",\"Could not connect to peer \"+o);break;case\"OFFER\":var c=r.connectionId;if((t=this.getConnection(o,c))&&(t.close(),i.warn(\"Offer received for existing Connection ID:\",c)),\"media\"===r.type)t=new s(o,this,{connectionId:c,_payload:r,metadata:r.metadata}),this._addConnection(o,t),this.emit(\"call\",t);else{if(\"data\"!==r.type)return void i.warn(\"Received malformed connection type:\",r.type);t=new a(o,this,{connectionId:c,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable}),this._addConnection(o,t),this.emit(\"connection\",t)}for(var u=this._getMessages(c),p=0,h=u.length;p<h;p+=1)t.handleMessage(u[p]);break;default:if(!r)return void i.warn(\"You received a malformed message from \"+o+\" of type \"+n);var d=r.connectionId;(t=this.getConnection(o,d))&&t.pc?t.handleMessage(e):d?this._storeMessage(d,e):i.warn(\"You received an unrecognized message:\",e)}},c.prototype._storeMessage=function(e,t){this._lostMessages[e]||(this._lostMessages[e]=[]),this._lostMessages[e].push(t)},c.prototype._getMessages=function(e){var t=this._lostMessages[e];return t?(delete this._lostMessages[e],t):[]},c.prototype.connect=function(e,t){if(this.disconnected)return i.warn(\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available.\"),void this.emitError(\"disconnected\",\"Cannot connect to new Peer after disconnecting from server.\");var n=new a(e,this,t);return this._addConnection(e,n),n},c.prototype.call=function(e,t,n){if(this.disconnected)return i.warn(\"You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect.\"),void this.emitError(\"disconnected\",\"Cannot connect to new Peer after disconnecting from server.\");if(t){(n=n||{})._stream=t;var r=new s(e,this,n);return this._addConnection(e,r),r}i.error(\"To call a peer, you must provide a stream from your browser's `getUserMedia`.\")},c.prototype._addConnection=function(e,t){this.connections[e]||(this.connections[e]=[]),this.connections[e].push(t)},c.prototype.getConnection=function(e,t){var n=this.connections[e];if(!n)return null;for(var i=0,r=n.length;i<r;i++)if(n[i].id===t)return n[i];return null},c.prototype._delayedAbort=function(e,t){var n=this;i.setZeroTimeout(function(){n._abort(e,t)})},c.prototype._abort=function(e,t){i.error(\"Aborting!\"),this._lastServerId?this.disconnect():this.destroy(),this.emitError(e,t)},c.prototype.emitError=function(e,t){i.error(\"Error:\",t),\"string\"==typeof t&&(t=new Error(t)),t.type=e,this.emit(\"error\",t)},c.prototype.destroy=function(){this.destroyed||(this._cleanup(),this.disconnect(),this.destroyed=!0)},c.prototype._cleanup=function(){if(this.connections)for(var e=Object.keys(this.connections),t=0,n=e.length;t<n;t++)this._cleanupPeer(e[t]);this.emit(\"close\")},c.prototype._cleanupPeer=function(e){for(var t=this.connections[e],n=0,i=t.length;n<i;n+=1)t[n].close()},c.prototype.disconnect=function(){var e=this;i.setZeroTimeout(function(){e.disconnected||(e.disconnected=!0,e.open=!1,e.socket&&e.socket.close(),e.emit(\"disconnected\",e.id),e._lastServerId=e.id,e.id=null)})},c.prototype.reconnect=function(){if(this.disconnected&&!this.destroyed)i.log(\"Attempting reconnection to server with ID \"+this._lastServerId),this.disconnected=!1,this._initializeServerConnection(),this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error(\"This peer cannot reconnect to the server. It has already been destroyed.\");if(this.disconnected||this.open)throw new Error(\"Peer \"+this.id+\" cannot reconnect because it is not disconnected from the server!\");i.error(\"In a hurry? We're still trying to make the initial connection!\")}},c.prototype.listAllPeers=function(e){e=e||function(){};var t=this,n=new XMLHttpRequest,r=(this.options.secure?\"https://\":\"http://\")+this.options.host+\":\"+this.options.port+this.options.path+this.options.key+\"/peers\";r+=\"?ts=\"+(new Date).getTime()+Math.random(),n.open(\"get\",r,!0),n.onerror=function(n){t._abort(\"server-error\",\"Could not get peers from the server.\"),e([])},n.onreadystatechange=function(){if(4===n.readyState){if(401===n.status){var r=\"\";throw r=t.options.host!==i.CLOUD_HOST?\"It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.\":\"You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.\",e([]),new Error(\"It doesn't look like you have permission to list peers IDs. \"+r)}200!==n.status?e([]):e(JSON.parse(n.responseText))}},n.send(null)},e.exports=c},function(e,t,n){var i=n(0),r=n(2);function o(e,t,n,i,s,a){if(!(this instanceof o))return new o(e,t,n,i,s,a);a=a||n,r.call(this),this.disconnected=!1,this._queue=[];var c=e?\"https://\":\"http://\",u=e?\"wss://\":\"ws://\";this._httpUrl=c+t+\":\"+n+i+s,this._wsUrl=u+t+\":\"+a+i+\"peerjs?key=\"+s}i.inherits(o,r),o.prototype.start=function(e,t){this.id=e,this._httpUrl+=\"/\"+e+\"/\"+t,this._wsUrl+=\"&id=\"+e+\"&token=\"+t,this._startXhrStream(),this._startWebSocket()},o.prototype._startWebSocket=function(e){var t=this;this._socket||(this._socket=new WebSocket(this._wsUrl),this._socket.onmessage=function(e){try{var n=JSON.parse(e.data)}catch(t){return void i.log(\"Invalid server message\",e.data)}t.emit(\"message\",n)},this._socket.onclose=function(e){i.log(\"Socket closed.\"),t.disconnected=!0,t.emit(\"disconnected\")},this._socket.onopen=function(){t._timeout&&(clearTimeout(t._timeout),setTimeout(function(){t._http.abort(),t._http=null},5e3)),t._sendQueuedMessages(),i.log(\"Socket open\")})},o.prototype._startXhrStream=function(e){try{var t=this;this._http=new XMLHttpRequest,this._http._index=1,this._http._streamIndex=e||0,this._http.open(\"post\",this._httpUrl+\"/id?i=\"+this._http._streamIndex,!0),this._http.onerror=function(){clearTimeout(t._timeout),t.emit(\"disconnected\")},this._http.onreadystatechange=function(){2==this.readyState&&this.old?(this.old.abort(),delete this.old):this.readyState>2&&200===this.status&&this.responseText&&t._handleStream(this)},this._http.send(null),this._setHTTPTimeout()}catch(e){i.log(\"XMLHttpRequest not available; defaulting to WebSockets\")}},o.prototype._handleStream=function(e){var t=e.responseText.split(\"\\n\");if(e._buffer)for(;e._buffer.length>0;){var n=e._buffer.shift(),r=t[n];try{r=JSON.parse(r)}catch(t){e._buffer.shift(n);break}this.emit(\"message\",r)}var o=t[e._index];if(o)if(e._index+=1,e._index===t.length)e._buffer||(e._buffer=[]),e._buffer.push(e._index-1);else{try{o=JSON.parse(o)}catch(e){return void i.log(\"Invalid server message\",o)}this.emit(\"message\",o)}},o.prototype._setHTTPTimeout=function(){var e=this;this._timeout=setTimeout(function(){var t=e._http;e._wsOpen()?t.abort():(e._startXhrStream(t._streamIndex+1),e._http.old=t)},25e3)},o.prototype._wsOpen=function(){return this._socket&&1==this._socket.readyState},o.prototype._sendQueuedMessages=function(){for(var e=0,t=this._queue.length;e<t;e+=1)this.send(this._queue[e])},o.prototype.send=function(e){if(!this.disconnected)if(this.id)if(e.type){var t=JSON.stringify(e);if(this._wsOpen())this._socket.send(t);else{var n=new XMLHttpRequest,i=this._httpUrl+\"/\"+e.type.toLowerCase();n.open(\"post\",i,!0),n.setRequestHeader(\"Content-Type\",\"application/json\"),n.send(t)}}else this.emit(\"error\",\"Invalid message\");else this._queue.push(e)},o.prototype.close=function(){!this.disconnected&&this._wsOpen()&&(this._socket.close(),this.disconnected=!0)},e.exports=o},function(e,t,n){var i=n(0),r=n(2),o=n(5);function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);r.call(this),this.options=i.extend({},n),this.open=!1,this.type=\"media\",this.peer=e,this.provider=t,this.metadata=this.options.metadata,this.localStream=this.options._stream,this.id=this.options.connectionId||s._idPrefix+i.randomToken(),this.localStream&&o.startConnection(this,{_stream:this.localStream,originator:!0})}i.inherits(s,r),s._idPrefix=\"mc_\",s.prototype.addStream=function(e){i.log(\"Receiving stream\",e),this.remoteStream=e,this.emit(\"stream\",e)},s.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case\"ANSWER\":o.handleSDP(e.type,this,t.sdp),this.open=!0;break;case\"CANDIDATE\":o.handleCandidate(this,t.candidate);break;default:i.warn(\"Unrecognized message type:\",e.type,\"from peer:\",this.peer)}},s.prototype.answer=function(e){if(this.localStream)i.warn(\"Local stream already exists on this MediaConnection. Are you answering a call twice?\");else{this.options._payload._stream=e,this.localStream=e,o.startConnection(this,this.options._payload);for(var t=this.provider._getMessages(this.id),n=0,r=t.length;n<r;n+=1)this.handleMessage(t[n]);this.open=!0}},s.prototype.close=function(){this.open&&(this.open=!1,o.cleanup(this),this.emit(\"close\"))},e.exports=s},function(e,t,n){var i=n(0),r=n(2),o=n(5),s=n(13);function a(e,t,n){if(!(this instanceof a))return new a(e,t,n);r.call(this),this.options=i.extend({serialization:\"binary\",reliable:!1},n),this.open=!1,this.type=\"data\",this.peer=e,this.provider=t,this.id=this.options.connectionId||a._idPrefix+i.randomToken(),this.label=this.options.label||this.id,this.metadata=this.options.metadata,this.serialization=this.options.serialization,this.reliable=this.options.reliable,this._buffer=[],this._buffering=!1,this.bufferSize=0,this._chunkedData={},this.options._payload&&(this._peerBrowser=this.options._payload.browser),o.startConnection(this,this.options._payload||{originator:!0})}i.inherits(a,r),a._idPrefix=\"dc_\",a.prototype.initialize=function(e){this._dc=this.dataChannel=e,this._configureDataChannel()},a.prototype._configureDataChannel=function(){var e=this;i.supports.sctp&&(this._dc.binaryType=\"arraybuffer\"),this._dc.onopen=function(){i.log(\"Data channel connection success\"),e.open=!0,e.emit(\"open\")},!i.supports.sctp&&this.reliable&&(this._reliable=new s(this._dc,i.debug)),this._reliable?this._reliable.onmessage=function(t){e.emit(\"data\",t)}:this._dc.onmessage=function(t){e._handleDataMessage(t)},this._dc.onclose=function(t){i.log(\"DataChannel closed for:\",e.peer),e.close()}},a.prototype._handleDataMessage=function(e){var t=this,n=e.data,r=n.constructor;if(\"binary\"===this.serialization||\"binary-utf8\"===this.serialization){if(r===Blob)return void i.blobToArrayBuffer(n,function(e){n=i.unpack(e),t.emit(\"data\",n)});if(r===ArrayBuffer)n=i.unpack(n);else if(r===String){var o=i.binaryStringToArrayBuffer(n);n=i.unpack(o)}}else\"json\"===this.serialization&&(n=JSON.parse(n));if(n.__peerData){var s=n.__peerData,a=this._chunkedData[s]||{data:[],count:0,total:n.total};return a.data[n.n]=n.data,a.count+=1,a.total===a.count&&(delete this._chunkedData[s],n=new Blob(a.data),this._handleDataMessage({data:n})),void(this._chunkedData[s]=a)}this.emit(\"data\",n)},a.prototype.close=function(){this.open&&(this.open=!1,o.cleanup(this),this.emit(\"close\"))},a.prototype.send=function(e,t){if(this.open)if(this._reliable)this._reliable.send(e);else{var n=this;if(\"json\"===this.serialization)this._bufferedSend(JSON.stringify(e));else if(\"binary\"===this.serialization||\"binary-utf8\"===this.serialization){var r=i.pack(e);if((i.chunkedBrowsers[this._peerBrowser]||i.chunkedBrowsers[i.browser])&&!t&&r.size>i.chunkedMTU)return void this._sendChunks(r);i.supports.sctp?i.supports.binaryBlob?this._bufferedSend(r):i.blobToArrayBuffer(r,function(e){n._bufferedSend(e)}):i.blobToBinaryString(r,function(e){n._bufferedSend(e)})}else this._bufferedSend(e)}else this.emit(\"error\",new Error(\"Connection is not open. You should listen for the `open` event before sending messages.\"))},a.prototype._bufferedSend=function(e){!this._buffering&&this._trySend(e)||(this._buffer.push(e),this.bufferSize=this._buffer.length)},a.prototype._trySend=function(e){try{this._dc.send(e)}catch(e){this._buffering=!0;var t=this;return setTimeout(function(){t._buffering=!1,t._tryBuffer()},100),!1}return!0},a.prototype._tryBuffer=function(){if(0!==this._buffer.length){var e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this.bufferSize=this._buffer.length,this._tryBuffer())}},a.prototype._sendChunks=function(e){for(var t=i.chunk(e),n=0,r=t.length;n<r;n+=1){e=t[n];this.send(e,!0)}},a.prototype.handleMessage=function(e){var t=e.payload;switch(e.type){case\"ANSWER\":this._peerBrowser=t.browser,o.handleSDP(e.type,this,t.sdp);break;case\"CANDIDATE\":o.handleCandidate(this,t.candidate);break;default:i.warn(\"Unrecognized message type:\",e.type,\"from peer:\",this.peer)}},e.exports=a},function(e,t,n){var i=n(14);function r(e,t){if(!(this instanceof r))return new r(e);this._dc=e,i.debug=t,this._outgoing={},this._incoming={},this._received={},this._window=1e3,this._mtu=500,this._interval=0,this._count=0,this._queue=[],this._setupDC()}r.prototype.send=function(e){var t=i.pack(e);t.size<this._mtu?this._handleSend([\"no\",t]):(this._outgoing[this._count]={ack:0,chunks:this._chunk(t)},i.debug&&(this._outgoing[this._count].timer=new Date),this._sendWindowedChunks(this._count),this._count+=1)},r.prototype._setupInterval=function(){var e=this;this._timeout=setInterval(function(){var t=e._queue.shift();if(t._multiple)for(var n=0,i=t.length;n<i;n+=1)e._intervalSend(t[n]);else e._intervalSend(t)},this._interval)},r.prototype._intervalSend=function(e){var t=this;e=i.pack(e),i.blobToBinaryString(e,function(e){t._dc.send(e)}),0===t._queue.length&&(clearTimeout(t._timeout),t._timeout=null)},r.prototype._processAcks=function(){for(var e in this._outgoing)this._outgoing.hasOwnProperty(e)&&this._sendWindowedChunks(e)},r.prototype._handleSend=function(e){for(var t=!0,n=0,i=this._queue.length;n<i;n+=1){var r=this._queue[n];r===e?t=!1:r._multiple&&-1!==r.indexOf(e)&&(t=!1)}t&&(this._queue.push(e),this._timeout||this._setupInterval())},r.prototype._setupDC=function(){var e=this;this._dc.onmessage=function(t){var n=t.data;if(n.constructor===String){var r=i.binaryStringToArrayBuffer(n);n=i.unpack(r),e._handleMessage(n)}}},r.prototype._handleMessage=function(e){var t,n=e[1],r=this._incoming[n],o=this._outgoing[n];switch(e[0]){case\"no\":var s=n;s&&this.onmessage(i.unpack(s));break;case\"end\":if(t=r,this._received[n]=e[2],!t)break;this._ack(n);break;case\"ack\":if(t=o){var a=e[2];t.ack=Math.max(a,t.ack),t.ack>=t.chunks.length?(i.log(\"Time: \",new Date-t.timer),delete this._outgoing[n]):this._processAcks()}break;case\"chunk\":if(!(t=r)){if(!0===this._received[n])break;t={ack:[\"ack\",n,0],chunks:[]},this._incoming[n]=t}var c=e[2],u=e[3];t.chunks[c]=new Uint8Array(u),c===t.ack[2]&&this._calculateNextAck(n),this._ack(n);break;default:this._handleSend(e)}},r.prototype._chunk=function(e){for(var t=[],n=e.size,r=0;r<n;){var o=Math.min(n,r+this._mtu),s={payload:e.slice(r,o)};t.push(s),r=o}return i.log(\"Created\",t.length,\"chunks.\"),t},r.prototype._ack=function(e){var t=this._incoming[e].ack;this._received[e]===t[2]&&(this._complete(e),this._received[e]=!0),this._handleSend(t)},r.prototype._calculateNextAck=function(e){for(var t=this._incoming[e],n=t.chunks,i=0,r=n.length;i<r;i+=1)if(void 0===n[i])return void(t.ack[2]=i);t.ack[2]=n.length},r.prototype._sendWindowedChunks=function(e){i.log(\"sendWindowedChunks for: \",e);for(var t=this._outgoing[e],n=t.chunks,r=[],o=Math.min(t.ack+this._window,n.length),s=t.ack;s<o;s+=1)n[s].sent&&s!==t.ack||(n[s].sent=!0,r.push([\"chunk\",e,s,n[s].payload]));t.ack+this._window>=n.length&&r.push([\"end\",e,n.length]),r._multiple=!0,this._handleSend(r)},r.prototype._complete=function(e){i.log(\"Completed called for\",e);var t=this,n=this._incoming[e].chunks,r=new Blob(n);i.blobToArrayBuffer(r,function(e){t.onmessage(i.unpack(e))}),delete this._incoming[e]},r.higherBandwidthSDP=function(e){var t=navigator.appVersion.match(/Chrome\\/(.*?) /);if(t&&(t=parseInt(t[1].split(\".\").shift()))<31){var n=e.split(\"b=AS:30\");if(n.length>1)return n[0]+\"b=AS:102400\"+n[1]}return e},r.prototype.onmessage=function(e){},e.exports.Reliable=r},function(e,t,n){var i=n(3),r={debug:!1,inherits:function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},pack:i.pack,unpack:i.unpack,log:function(){if(r.debug){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];e.unshift(\"Reliable: \"),console.log.apply(console,e)}},setZeroTimeout:function(e){var t=[],n=\"zero-timeout-message\";function i(i){i.source==e&&i.data==n&&(i.stopPropagation&&i.stopPropagation(),t.length&&t.shift()())}return e.addEventListener?e.addEventListener(\"message\",i,!0):e.attachEvent&&e.attachEvent(\"onmessage\",i),function(i){t.push(i),e.postMessage(n,\"*\")}}(this),blobToArrayBuffer:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsArrayBuffer(e)},blobToBinaryString:function(e,t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsBinaryString(e)},binaryStringToArrayBuffer:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=255&e.charCodeAt(n);return t.buffer},randomToken:function(){return Math.random().toString(36).substr(2)}};e.exports=r},,function(e,t){e.exports=function(e){return e=e||7,Math.random().toString(35).substr(2,e)}}]);","extractedComments":[]}